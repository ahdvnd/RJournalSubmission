---
title: A package for Cleaning and Analyzing Coursera OnDemand Data
author:
  - name: Aboozar Hadavand
    affiliation: Bloomberg School of Public Health, Johns Hopkins University
    address:
    - 615 N. Wolfe Street
    - Baltimore, MD 21205, USA
    email:  hadavand@jhu.edu
  - name: Jeffrey Leek
    affiliation: Bloomberg School of Public Health, Johns Hopkins University
    address:
    - 615 N. Wolfe Street
    - Baltimore, MD 21205, USA
    email:  jtleek@jhu.edu
abstract: >
  An abstract of less than 150 words.
preamble: >
  % Any extra latex you need in the preamble
output: rticles::rjournal_article
---

## Introduction

It is hard to pin down the time of the birth of the first Massive Open Online Course (MOOC).\footnote{Some have claimed Sesame Street as the first MOOC. Delaney Parrish, "Sesame Street was the original MOOC," *BROOKINGS NOW*, The Brookings Institution, June 18, 2015, https://www.brookings.edu/blog/brookings-now/2015/06/18/sesame-street-was-the-original-mooc/} But since the advent of more focused MOOCs pioneered by universities and platforms such as Coursera, Udacity, and edX, reserachers have tried to focus on studying MOOCs. There are fundamental differences between traditional education and MOOCs was large enough to attract reserachers to study students' behavior and outcomes. These differences are best reflected in the definition of MOOCs by \cite{mcauley2010mooc} that "[a]n online course with the option of free and open registration, a publicly shared curriculum, and open-ended outcomes which integrates social networking, accessible online resources ... and most significantly builds on the engagement of learners who self-organize their participation according to learning goals, prior knowledge and skills, and common interests."

Research on MOOCs few years with more data being accumulated and collected. \cite{bozkurt2017trends} studied literature published on MOOCs throught 2015 and found that the number of articles published on the subject increased from 1 in 2008 to 170 in 2015. More research in needed to fully understand the effectiveness, reach, limits, and the potential of MOOCs. However, one of the main challenges in studying MOOCs remains to be data. Data is not usually publically available since it is owened by private MOOC providers and there are concerns about privacy of students. More importantly, as \cite{lopez2017google} point out, the size and complexity of MOOC data is an overwhelming challenge to many researchers. Therefore, it is imperative to provide tools that pave the way for more research on the new subject of MOOCs.

This paper introduces a package called *crsra* based on the statistical sofware R to help clean and analyze large loads of data from the Coursera MOOCs. The advantages of the package are as follows: a) faster loading of data for analysis, b) efficient method for combining data from multiple courses and even across institutions,\footnote{This is important since although MOOC researchers have access to thousands of students in their sample, few studies benefit from data across multiple courses and institutions. Such analysis helps draw more robust conclusions about student behaviors \citep{reich2015rebooting}.} and c) provision of a set of functions for analysing student behaviors.


## Coursera Research Data

Coursera is one of the main providers of MOOCs that launched in January 2012. In fact, with over 25 million learners, Coursera is the biggest provider in the world being followed by EdX, the MOOC provider that was a result of a collaboration between Harvard Universit and MIT, with over 10 million users. Coursera has over 150 uiveristy partners from 29 countries and offers a toatl of 2000+ courses from computer science to philosophy \citep{coursera}. In addition, Coursera offers 180+ specialization, Coursera's own credential system, and 4 fully online Masters degrees. Courses include recorded video lectures, graded assignment, quizzes, and discussion forums.

Since the early years of the platform, Coursera has encouraged researchers to analyze students' data and has facilitated the use of the data and the platform for A/B testing. Starting November 2015 Coursera introduced a dashboard for self-service data exports. Through this tool, partner institutions and instructors can download data for a single course or all courses associated with the institutuion. Research data exports are sets of CSV files and are designed for use in relational database systems. One of the advantages of the data is the existence of a single *hashed user ID* for each student. This user ID is consistent for learners across all courses offered by an individual institution and allows for connecting learner grades and progress across course.

There are five types of research data export for each course. The Table \ref{tab:datatypes} summarizes these five types. This set of data is written in roughly 100 tables: some containing course information and content, some containing students' information, progress, and outcomes, and some containing forum data. Figure \ref{figure:datatables} shows 



\begin{table}
\footnotesize
\caption{Types of research data export}\
\centering
\label{tab:datatypes}
\begin{tabular}{p{4cm}|p{7cm}}
Data Type & Description \\
\addlinespace
\toprule
Assessment submission data & Assessment submissions of quizzes, peer review, and programming assignments by learners.\\
\midrule
Course grade data & Contains the highest grade achieved by each learner on each required assessment as well as the timestamp of the learner's highest-scoring submission. This table also includes each learner's overall grade in the course.\\
\midrule
Course progress data & Contains data data documenting the timestamp for when the learner interacted with each piece of course content and the timestamps for when items were opened, completed, reopened, reattempted, etc.\\
\midrule
Demographic data & Contains the following information for all enrolled learners: general geographical data (based on IP address), browser language preference, and information for learners who completed their learner profile responses or participated in Coursera's platform-wide demographic survey (including age, gender, education level, and employment status).\\
\midrule
Discussion data & Contains forum activity data such as posts, responses, upvotes/downvotes, flags, and questions and answers associated with course content items.\\
\addlinespace
\bottomrule
\end{tabular}
\end{table}


\begin{figure}[htbp]
    \centering
    \includegraphics[scale=0.5]{datatables}
    \caption{The major relationships between tables groups, with minor connections omitted (Source: Coursera)}
    \label{figure:datatables}
\end{figure}


While Coursera provides tools for creating Postgres databases in a docker container\footnote{The tools is called `courseraresearchexports` and can be found here: https://github.com/coursera/courseraresearchexports}, as we mentioned earlier, importing data for analysis remains to be a challenge for researchers with limited experience with relational databases. Moreover, such tools are usually not platform independent.\footnote{In an initial version of *crsra* based on Postgresql we had the problem of some team members not being able to set up the database properly on their PCs.}


## The *crsra* Package


The *crsra* package helps import and organize Coursera's research data exports into R. It also run some preliminary analysis on the data. In the following section, we introduce the package and provide instruction on how to import Coursera research data exports. To install this package, you will need to install *devtools*. Install the [devtools package](https://CRAN.R-project.org/package=devtools), available from CRAN. Then execute the following commands to install the *crsra* package 

```{r eval=FALSE}
library("devtools")
devtools::install_github("jhudsl/crsra", build_vignettes = TRUE)
```

In order to import your data dump into R, first point your working directory to the directory that contains all the unzipped course folders. Then execute the command `crsra_import()`. If you are not pointing to the correct directory, you will receive a warning and the execution will be halted. Note that the data import may take some time if the course data is large and there are several courses in your working directory. Also note that by running the `crsra_import()` command, you import all tables for each individual course into R in a list called `all_tables`.

For a list of all the tables in the data download, please click [here](https://github.com/jhudsl/crsra/blob/master/ListofTables.md). All tables can be called using `all_tables[["course_name"]][["table_name"]]`. For instance, if you like to call the table `peer_comments` in the course Regression Models, you can simply execulte `all_tables[["Regression Models"]][["peer_comments"]]`. To see a list of courses imported by the `crsra_import()` command check the variable `coursenames`. To see a list of all the tables check the variable `tablenames`.


To see the data import in use, we use the package on data from Johns Hopkins University Data Science Specialization on Coursera. This specialization, developed by Jeffrey Leek, Roger Peng, and Brian Caffo, consists of ten courses. There has been more than two million enrollments since the launch of this program in April 2014. The size of data on the students who took these ten courses since 2015 is around 18 gigabytes. We used the *crsra* package to import the data on all the courses and then to find the number of students who passed a specific course item (course item `67c1O`) in the course "Regression Models" and their average grade in a specific course.


```{r eval=FALSE}
library(dplyr)

all_tables[["Regression Models"]][["course_item_grades"]] %>%
    dplyr::filter(course_item_id == "67c1O") %>% 
    dplyr::filter(course_item_passing_state_id == 2) %>% 
    dplyr::summarise(n = n(), grade = mean(course_item_grade_verified))

## A tibble: 1 x 2
##      n     grade
##   <int>    <dbl>
## 1  8640 0.9556052
```

The package also includes a few other functions are added to the package in addition to the main `crsra_import()` function. A list of functions and their descriptions is provided in Table \ref{tab:functions}.


\begin{table}
\footnotesize
\caption{Other functions in the *crsra* package}\
\centering
\label{tab:functions}
\begin{tabular}{p{3cm}|p{7cm}}
Function & Description \\
\addlinespace
\toprule
\texttt{crsra\_membershares} & Returns a summary of the total number and the shares of users in each course broken down by factors such as roles, country, language, gender, employment status, education level, and student status.\\
\midrule
\texttt{crsra\_gradesummary} & Returns total grade summary or broken down by the factors mentioned above.\\
\midrule
\texttt{crsra\_progress} & Summarizes, for each course item, the total number and the share of users who stopped the course at that specific course item. The function ranks course items by their attrition.\\
\midrule
\texttt{crsra\_assessmentskips} & Users may "skip" reviewing a submission if there is a problem with it. This function categorizes skips by their type such as "inappropriate content", "plagiarism", etc. The function also returns list of mostly used words in peer comments.\\
\midrule
\texttt{crsra\_stimetofinish} & Calculates the time to finish a course for each user.\\
\addlinespace
\bottomrule
\end{tabular}
\end{table}


## use another example given the functions above


## A Preliminary Analysis of Student Behavior on Coursera




From \cite{perna2014moving}
Available research provides limited understanding of user progress through a MOOC beyond the first and last events: registra- tion and completion. Potential intermediary outcomes include viewing a lecture and posting to a discussion forum (MOOCS @ Edinburgh, 2013). 


In their study of Harvard and MIT courses, Ho et al. (2014) consider whether a user posts to a discussion forum as well as the numbers of “clicks” (i.e., “the number of dis- crete actions a user takes in a course”; p. 26) and “active days” (i.e., “number of discrete days, demarcated in UTC time that a user engages in some type of course activity”; p. 26). Their study finds higher scores on these measures for users who “explored” or “com- pleted” a course than for those who only registered.


User outcomes vary across courses (e.g., MOOCs @ Edinburgh, 2013). Yet, because of the many differences in the characteristics of available MOOCs, research to date provides few insights into how course characteristics contribute to varia- tions in user outcomes. Ho et al. (2014) observed that the 17 MOOCs in their study differed in terms of content, design, duration, instructor philosophy, learner expectations, video design and distribution, assessment, and criteria for certification. Even in four courses of similar duration (5 to 7 weeks), Grainger (2013) identified variations in course content as well as the number and length of videos, assessment type, number of teach- ing staff and teaching assistants, forum moderation, and use of social media.


Establishing how students progress through an educational sys- tem is a prerequisite for educational planning and decision mak- ing (King, 1972). Modelers of education systems assume that to achieve any educational outcome, students must complete a series of steps. Examining the United Kingdom’s educational sys- tem, Stone (1970) and King (1972), for instance, built “concep- tually and algebraically simple” models that represent educational systems as “a set of branches through which students can flow” (Stone, 1970, p. 279). These models are designed to document the “movement of individuals between different parts of the sys- tem” (King, 1972, p. 53) and predict the likelihood that an indi- vidual will progress from one step to another. These predictions allow estimates of the likely human capital yield from a cohort entering an educational process and provide a baseline for exploring the events that lead some participants to become inac- tive and others to complete a course or program. Such informa- tion can be used to design courses and programs in ways that improve student outcomes.

Identifying intermediary outcomes and milestones is a pre- requisite for understanding the forces that promote and limit a student’s progress toward completion of a course or degree pro- gram and identifying policies and practices that may improve desired outcomes. Because of the newness of MOOCs and com- petition between providers, there is not yet agreement on the most appropriate measures of academic progress through a MOOC. For instance, it is not known whether users’ progress through a MOOC should be measured in a sequential fashion (defined as participating in course modules in the order specified by the instructor) or in a way that captures the actions of users who take advantage of the “open” nature of MOOCs (and thus participate in a more sporadic or nonlinear fashion). Available research also does not reveal the intermediary outcomes that pre- dict completion of a MOOC.















## Discussion




\bibliography{RJreferences}



<!-- ## Introduction -->

<!-- Introductory section which may include references in parentheses -->
<!-- \citep{R}, or cite a reference such as \cite{R} in the text. -->


<!-- ## Another section -->

<!-- There will likely be several sections, perhaps including code snippets, such as: -->

<!-- ```{r} -->
<!-- x <- 1:10 -->
<!-- x -->
<!-- ``` -->

<!-- ## Summary -->

<!-- This file is only a basic article template. For full details of _The R Journal_ style and information on how to prepare your article for submission, see the [Instructions for Authors](https://journal.r-project.org/share/author-guide.pdf). -->
